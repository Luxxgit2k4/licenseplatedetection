---
import LicneplateForm from "./LicensePlateFetch.jsx";

const licenseplate = import.meta.env.LICENSEPLATE;
const videofeed = licenseplate.concat("/", "video_feed");
const licenseNumber = licenseplate.concat("/", "licenseplate");

// no need for websocket connection just create a api request and get the values
// if you find the license plate in the registered users list get the username and the list.

// fetch data inside react client side
const response = await fetch("https://randomuser.me/api/");
const data = await response.json();
const randomUser = data.results[0];
---

<div class="container mx-auto border-2 rounded-2xl text-center p-4 my-8">
  <div class="grid md:grid-cols-2 grid-rows-2 md:gap-12 gap-4">
    <div class="md:border-r-2 border-b-2 md:border-b-0">
      <img src={videofeed} />
      <!-- <img style="display: block; user-select: none; margin: auto; background-color: rgb(64, 64, 64); --darkreader-inline-bgcolor: #303436;" src="http://localhost:8001/video_feed" data-darkreader-inline-bgcolor=""> -->
    </div>

    <!-- form gose below -->
    <div class="text-left">
      <h1 class="font-bold text-2xl text-center">Vehicle Details ðŸš—..</h1>

      <LicneplateForm
        client:only
        videofeed={videofeed}
        licenseNumber={licenseNumber}
      />
    </div>
  </div>
</div>
